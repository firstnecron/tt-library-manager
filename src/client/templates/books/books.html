<h1>Books</h1>
<p> <a ui-sref="books.new" class="button">Create New Book</a></p>
<p>Filters <a ui-sref="books">All</a> | <a ui-sref="books({type: overdue})">Overdue</a> | <a ui-sref="books({type: out})">Checked Out</a></p>
<div class="">
	<table class="table table-hover" datatable="ng" dt-options="dtOptions" dt-column-defs="dtColumnDefs">
		<thead>
			<tr>
				<th>Title</th>
				<th>Author</th>
				<th>Genre</th>
				<th>Year Released</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="book in ::books">
				<td><a ui-sref="book-detail({id: book.id})">{{book.title}}</a></td>
				<td>{{book.author}}</td>
				<td>{{book.genre}}</td>
				<td>{{book.first_published}}</td>
				<td>
					<a class="btn btn-default" type="button" ui-sref="books.edit({id: book.id})" title="Edit">
						<i class="fa fa-pencil-square-o" aria-hidden="true"></i>
					</a>
					<a class="btn btn-info" type="button" ui-sref="book-detail({id: book.id})" title="Details">
						<i class="fa fa-info" aria-hidden="true"></i>
					</a>
					<a class="btn btn-danger" type="button" ng-click="delete(book)" title="Delete">
						<i class="fa fa-trash-o" aria-hidden="true"></i>
					</a>
				</td>
			</tr>
		</tbody>
	</table>
</div>
<div confirm-delete-modal id="confirm-delete-modal" class="modal fade" tabindex="-1" role="dialog">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h3 class="modal-title" id="modal-title">Confirm Delete</h3>
			</div>
			<div class="modal-body" id="modal-body">
				<p>You are about to delete book '{{itemToDelete.title}}' by {{itemToDelete.author}}</p>
				<p>Are you sure you want to do this?</p>
				<p class="text-danger" ng-show="deleteError">Error: {{deleteError}}</p>
			</div>
			<div class="modal-footer">
				<button class="btn btn-danger" type="button" ng-click="confirmDelete()">
					<i class="fa fa-spinner fa-pulse fa-3x fa-fw" ng-show="confirmedDelete"></i>
					Confirm
				</button>
				<button class="btn btn-default" type="button" ng-click="cancelDelete()">Cancel</button>
			</div>
		</div>
	</div>
</div>
<div ui-view="child"></div>
